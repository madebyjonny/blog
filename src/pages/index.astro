---
import { getCollection } from "astro:content";
import { Heading } from "../components/Heading/Heading.tsx";
import { Grid } from "../components/Grid/Grid.tsx";
import { BlogCard } from "../components/Card/Card.tsx";
import Layout from "../components/Layout/Layout.astro";

const posts = (await getCollection("posts")) as {
  slug: string;
  data: { title: string };
}[];

const seo = {
  title: "Blog",
  keywords: "tech",
  description: "My blog",
  sitename: "Jonathan Hamilton's blog",
  url: "https://example.com/blog",
  imageurl: "https://example.com/og-image.jpg",
  imageAlt: "banner for the blog",
};
---

<Layout seo={seo}>
  <Grid>
    <Heading as="h1">my blog</Heading>
    <ul>
      {
        posts.map((post) => (
          <li>
            <BlogCard
              href={`/posts/${post.slug}`}
              category="category"
              title={post.data.title}
              summary="This is a summary of the post"
              date="28/12/2024"
            />
          </li>
        ))
      }
    </ul>
  </Grid>
</Layout>
